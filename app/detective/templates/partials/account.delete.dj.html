<form name="form"
      class="panel panel-default panel-centered top30 black"
      ng-hide="deleted"
      ng-submit="deleteAccount(form)"
      novalidate>

    <div class="panel-body">
        <h2>Delete account</h2>
        <p>
            When you delete your account, all the investigations you created
            will be destroyed. The data you contributed to other investigations
            will remains.<br/>
            Be caferful, <strong>there is no undoing</strong> when you delete
            your account!
        </p>
        <fieldset ng-disabled="loading">
            <div class="form-group">
                <label for="delete_check_password">
                    Type your password to confirm
                </label>
                <div class="input-group">
                    <input type="password"
                           class="form-control"
                           name="check_password"
                           id="delete_check_password"
                           ng-model="check_password"
                           check-password
                           ng-change="submitted=false"
                           required>
                        <span class="input-group-addon">
                            <i class="fa fa-check-square-o text-success" ng-show="form.check_password.$valid"></i>
                            <i class="fa fa-square-o" ng-hide="form.check_password.$valid"></i>
                        </span>
                </div>
                <div class="alert alert-danger top10" ng-show="shouldShowIncorrectPassword(form.check_password)">
                    Your password is incorrect
                </div>
                <div class="alert alert-danger top10" ng-show="shouldShowRequiredPassword(form.check_password)">
                    You have to enter your password in order to delete your account
                </div>
                </div>
            </div>
        </fieldset>
    </div>
    <div class="panel-footer">
        <button class="btn btn-primary pull-right" type="submit">
            Delete my account
        </button>
        <button class="btn btn-default" ng-click="goToDasbhoard()">
            I changed my mind, take me to a safe place
        </button>
        <div class="clearfix"></div>
    </div>
</form>
<div ng-show="deleted" class="panel panel-centered panel-success top30">
    <div class="panel-heading">
        <h2>Well done!</h2>
        Your account has been successfully deleted !
    </div>
</div>
